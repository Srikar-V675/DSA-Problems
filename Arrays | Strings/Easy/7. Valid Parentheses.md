# Problem Definition

**Leetcode link:** [Valid Parentheses](https://leetcode.com/problems/valid-parentheses/description/)

Given a string s containing just the characters '(', ')', '{', '}', '[' and ']', determine if the input string is valid.

An input string is valid if:

1. Open brackets must be closed by the same type of brackets.
2. Open brackets must be closed in the correct order.
3. Every close bracket has a corresponding open bracket of the same type.
 
Example 1:
```
Input: s = "()"
Output: true
```
Example 2:
```
Input: s = "()[]{}"
Output: true
```
Example 3:
```
Input: s = "(]"
Output: false
```

# Approach

- Since we need to close open brackets in the correct order and also handle nested brackets we need to use a `stack`.
- We also need to determine the correct parentheses to check on top of stack when encountered with a closing bracket, to store this we need a dictionary that contains key:value pairs of opening and closing bracket respectively.
- Also while checking if we encounter a closing bracket and the stack is empty or the corresponding opening bracket on top of stakc doesn't match then immediately return `False`.
- I came up with the stack intuition of the approach but I used a simple if else statement to check pairs of closing and opening brackets. I also didn't take into consideration for early stopping based on conditions in point 3.

# Code

## Better
**Time Complexity:** O(N)
**Space Complexity:** O(1)

```python
stack = []
for ch in s:
    if ch == ')' and stack and stack[-1] == '(':
        stack.pop()
    elif ch == ']' and stack and stack[-1] == '[':
        stack.pop()
    elif ch == '}' and stack and stack[-1] == '{':
        stack.pop()
    else:
        stack.append(ch)
return True if not stack else False
```

## Optimal

**Time Complexity:** O(N)
**Space Complexity:** O(N)
```python
stack = []
brackets = {
    ')': '(',
    ']': '[',
    '}': '{'
}
for ch in s:
    if ch in brackets:
        if stack and stack[-1] == brackets[ch]:
            stack.pop()
        else:
            return False
    else:
        stack.append(ch)
return True if not stack else False
```